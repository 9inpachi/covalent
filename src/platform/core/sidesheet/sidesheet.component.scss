$td-sidesheet-side-padding: 16px !default;
$td-sidesheet-top-padding: 20px !default;

// base style for [layout="column" layout-fill]
%layout-column-fill {
  // [layout-fill]
  margin: 0;
  width: 100%;
  min-height: 100%;
  height: 100%;
  // [layout=column]
  flex-direction: column;
  // [layout=column], [layout]
  box-sizing: border-box;
  display: flex;
}

// base style for [layout="row" layout-align="start center"]
%layout-row-align-start-center {
  // [layout="row"]
  flex-direction: row;
  // [layout], [layout="row"]
  box-sizing: border-box;
  display: flex;
  // [layout-align="start center"]
  align-items: center;
  align-content: center;
  max-width: 100%;
  justify-content: flex-start;
}

td-sidesheet {
  @extend %layout-column-fill;
  
  .mat-divider-horizontal {
    position: static !important;
  }

  // HEADER STYLES
  [td-sidesheet-header] {
    @extend %layout-row-align-start-center;
    width: 100%;
    padding: $td-sidesheet-top-padding $td-sidesheet-side-padding;
    font-size: 18px;

    .mat-button-focus-overlay {
      background-color: transparent !important;
    }
    .mat-icon-button {
      width: 24px;
      height: 24px;
      line-height: 24px;
    }
  }

  // ACTION STYLES
  [td-sidesheet-actions] {
    padding: ($td-sidesheet-side-padding / 2);
    display: block;

    .mat-button, .mat-raised-button {
      margin: 0 8px;
    }
  }

  // CONTENT STYLES
  .td-sidesheet-content {
    @extend %layout-row-align-start-center;
    flex-direction: column;
    padding: $td-sidesheet-side-padding;
    flex: 1;
    // [.mat-content]
    position: relative;
    overflow-y: auto;
  }
}

// FIRST/LAST CHILD ADJUSTMENTS
// top els in td-sidesheet-content and td-sidesheet can't have their default margin-tops (e.g. <p> tags)
// or they'll incorrectly add to card's top padding
td-sidesheet > :first-child, .td-sidesheet-content > :first-child {
  margin-top: 0;
}

// last els in td-sidesheet-content and td-sidesheet can't have their default margin-bottoms (e.g. <p> tags)
// or they'll incorrectly add to card's bottom padding
td-sidesheet > :last-child, .td-sidesheet-content > :last-child {
  margin-bottom: 0;
}

// actions panel should always be 8px from sides,
// so the first button in the actions panel can't add its own margins
[td-sidesheet-actions] .mat-button:first-child,
[td-sidesheet-actions] .mat-raised-button:first-child {
  margin-left: 0;
  margin-right: 0;
}
